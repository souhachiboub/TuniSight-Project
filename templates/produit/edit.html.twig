
{% extends 'squeletteboutique.html.twig' %}

{% block body %}
<div class="container mt-5">
    <div class="card shadow-lg p-4">
        {{ form_start(form, {'attr': {'novalidate': 'novalidate', 'class': 'needs-validation'}}) }}
            <div class="row">
                {% for field in form %}
                    {% if 'checkbox' in field.vars.block_prefixes %}
                        <div class="mb-3 col-md-6 form-check">
                            {{ form_widget(field, {'attr': {'class': 'form-check-input'}}) }}
                            {{ form_label(field, null, {'label_attr': {'class': 'form-check-label'}}) }}
                        </div>
                    {% else %}
                        <div class="mb-3 col-md-6">
                            {{ form_label(field, null, {'label_attr': {'class': 'form-label'}}) }}
                            {{ form_widget(field, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(field, {'attr': {'class': 'text-danger'}}) }}
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="text-center mt-3">
                <button type="submit" class="btn btn-primary px-4">Enregistrer</button>
            </div>
        {{ form_end(form) }}
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        {% for message in app.flashes('success') %}
            Swal.fire({
                icon: 'success',
                title: 'Modification réussie !',
                text: '{{ message|e('js') }}',
                timer: 2000, // Auto-fermeture après 2 sec
                showConfirmButton: false
            }).then(() => {
                window.location.href = "{{ path('app_produit') }}";
            });
        {% endfor %}
    });
</script>


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}